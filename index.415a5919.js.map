{"mappings":"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","sources":["src/index.js","src/js/home.js","src/js/searchForm.js","src/js/movieModal.js"],"sourcesContent":["import './js/Api';\nimport './js/refs';\nimport './js/auth';\nimport './js/home';\nimport './js/searchForm';\nimport './js/pagination';\nimport './js/movieModal';\nimport './js/authModal';\nimport './js/preloader';\n","import { movieApi } from './Api';\nimport { refs } from './refs';\nimport { dataFormat } from './dataFormat';\nimport { paginationSettings, initializePagination } from './pagination';\nimport { cardTemplate } from './cardTemplate';\nimport { spinner } from './preloader';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './auth';\n\nfunction onHomeLoad() {\n  spinner.show();\n  try {\n    movieApi.getTrending().then(data => {\n      console.log(data.results);\n      paginationSettings.maxPages = data.total_pages;\n      console.log(paginationSettings);\n      initializePagination();\n      const formattedResults = data.results.map(dataFormat);\n      const markup = formattedResults.map(cardTemplate).join('');\n      refs.movieList.innerHTML = markup;\n      refs.pagination.classList.remove('visually-hidden');\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  } finally {\n    spinner.close();\n  }\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    console.log('user logged in: ', user);\n    refs.authSignOut.parentElement.classList.remove('hidden');\n    refs.authOpen.parentElement.classList.add('hidden');\n  } else {\n    console.log('user logged out');\n    refs.authSignOut.parentElement.classList.add('hidden');\n    refs.authOpen.parentElement.classList.remove('hidden');\n  }\n});\n\nonHomeLoad();\n","import { movieApi } from './Api';\nimport { refs } from './refs';\nimport { dataFormat } from './dataFormat';\nimport { cardTemplate } from './cardTemplate';\nimport { paginationSettings, initializePagination } from './pagination';\nimport { spinner } from './preloader';\nimport Notiflix from 'notiflix';\n\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const currentQuery = e.currentTarget.elements.search.value;\n\n  if (currentQuery === '') {\n    Notiflix.Notify.failure('Please enter correct movie title');\n    return;\n  }\n\n  if (currentQuery !== movieApi.query) {\n    movieApi.query = currentQuery;\n  }\n\n  spinner.show();\n\n  paginationSettings.paginationType = 'search';\n  console.log(paginationSettings.paginationType);\n  movieApi.resetPage();\n\n  try {\n    movieApi.searchMovies().then(data => {\n      if (data.results.length === 0) {\n        Notiflix.Notify.failure('No matches');\n        spinner.close();\n        return;\n      }\n      console.log(data);\n      paginationSettings.maxPages = data.total_pages;\n      console.log(paginationSettings);\n      initializePagination();\n      const formattedResults = data.results.map(dataFormat);\n      const markup = formattedResults.map(cardTemplate).join('');\n      refs.movieList.innerHTML = markup;\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  } finally {\n    spinner.close();\n  }\n}\n","import { refs } from './refs';\nimport { movieApi } from './Api';\nimport { dataFormat } from './dataFormat';\nimport { db, auth } from './auth';\nimport { selectedMovieTemplate } from './cardTemplate';\nimport { getDoc, doc, updateDoc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\n\nrefs.movieList.addEventListener('click', onGalleryClick);\n\nlet watchedAdd;\nlet queueAdd;\nlet currentMovie;\n\nasync function onGalleryClick(e) {\n  if (e.target === e.currentTarget) {\n    return;\n  }\n  const card = e.target.closest('li');\n  movieApi.id = card.dataset.id;\n  try {\n    movieApi.getMovie().then(async data => {\n      const formattedData = dataFormat(data);\n      currentMovie = formattedData;\n      const modalMarkup = selectedMovieTemplate(formattedData);\n      refs.movieModal.innerHTML = modalMarkup;\n      onGalleryCard();\n\n      if (auth.currentUser) {\n        const userData = await getDoc(\n          doc(db, 'users', auth.currentUser.uid)\n        ).then(res => {\n          return res.data();\n        });\n        console.log(userData);\n        const { watchedMovies, queuedMovies } = userData;\n        if (watchedMovies.find(movie => movie.id === currentMovie.id)) {\n          toggleWatched();\n        }\n        if (queuedMovies.find(movie => movie.id === currentMovie.id)) {\n          toggleQueue();\n        }\n      }\n      refs.backdrop.classList.toggle('is-hidden');\n      refs.body.classList.toggle('locked');\n      refs.modalCloseBtn.addEventListener('click', toggleModal);\n      window.addEventListener('keydown', onEscPress);\n      refs.backdrop.addEventListener('click', onBackdropClick);\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n\nfunction onGalleryCard() {\n  watchedAdd = document.querySelector('[data-watched-add]');\n  queueAdd = document.querySelector('[data-queue-add]');\n  watchedAdd.addEventListener('click', addToWatched);\n  queueAdd.addEventListener('click', addToQueue);\n}\n\nfunction toggleModal() {\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.body.classList.toggle('locked');\n  window.removeEventListener('keydown', onEscPress);\n  refs.modalCloseBtn.removeEventListener('click', toggleModal);\n  refs.backdrop.removeEventListener('click', onBackdropClick);\n  watchedAdd.removeEventListener('click', addToWatched);\n  queueAdd.removeEventListener('click', addToQueue);\n  watchedAdd.removeEventListener('click', removeFromWatched);\n  queueAdd.removeEventListener('click', removeFromQueue);\n}\n\nfunction onEscPress(e) {\n  console.log(e.code);\n  if (e.code === 'Escape') {\n    toggleModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    toggleModal();\n  }\n}\n\nfunction toggleWatched() {\n  if (watchedAdd.textContent === 'add to watched') {\n    watchedAdd.textContent = 'remove from watched';\n    watchedAdd.removeEventListener('click', addToWatched);\n    watchedAdd.addEventListener('click', removeFromWatched);\n    watchedAdd.classList.add('modal-card-buttons__btn_current');\n  } else {\n    watchedAdd.textContent = 'add to watched';\n    watchedAdd.addEventListener('click', addToWatched);\n    watchedAdd.removeEventListener('click', removeFromWatched);\n    watchedAdd.classList.remove('modal-card-buttons__btn_current');\n  }\n}\n\nfunction toggleQueue() {\n  if (queueAdd.textContent === 'add to queue') {\n    queueAdd.textContent = 'remove from queue';\n    queueAdd.removeEventListener('click', addToQueue);\n    queueAdd.addEventListener('click', removeFromQueue);\n    queueAdd.classList.add('modal-card-buttons__btn_current');\n  } else {\n    queueAdd.textContent = 'add to queue';\n    queueAdd.addEventListener('click', addToQueue);\n    queueAdd.removeEventListener('click', removeFromQueue);\n    queueAdd.classList.remove('modal-card-buttons__btn_current');\n  }\n}\n\nasync function addToWatched() {\n  if (!auth.currentUser) {\n    Notiflix.Notify.failure('Please sign in');\n    return;\n  }\n  try {\n    const { watchedMovies } = await getDoc(\n      doc(db, 'users', auth.currentUser.uid)\n    ).then(res => {\n      return res.data();\n    });\n\n    watchedMovies.push(currentMovie);\n\n    await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n      watchedMovies,\n    }).then(() => {\n      Notiflix.Notify.success('Added to watched');\n      toggleWatched();\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n\nasync function removeFromWatched() {\n  try {\n    let { watchedMovies } = await getDoc(\n      doc(db, 'users', auth.currentUser.uid)\n    ).then(res => {\n      return res.data();\n    });\n    watchedMovies = watchedMovies.filter(movie => {\n      return movie.id !== currentMovie.id;\n    });\n    await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n      watchedMovies,\n    }).then(() => {\n      Notiflix.Notify.success('Removed successfully');\n      toggleWatched();\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n\nasync function addToQueue() {\n  if (!auth.currentUser) {\n    Notiflix.Notify.failure('Please sign in');\n    return;\n  }\n  try {\n    const { queuedMovies } = await getDoc(\n      doc(db, 'users', auth.currentUser.uid)\n    ).then(res => {\n      return res.data();\n    });\n\n    queuedMovies.push(currentMovie);\n\n    await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n      queuedMovies,\n    }).then(() => {\n      Notiflix.Notify.success('Added to queue');\n      toggleQueue();\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n\nasync function removeFromQueue() {\n  try {\n    let { queuedMovies } = await getDoc(\n      doc(db, 'users', auth.currentUser.uid)\n    ).then(res => {\n      return res.data();\n    });\n    queuedMovies = queuedMovies.filter(movie => {\n      return movie.id !== currentMovie.id;\n    });\n    await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n      queuedMovies,\n    }).then(() => {\n      Notiflix.Notify.success('Removed successfully');\n      toggleQueue();\n    });\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n"],"names":["parcelRequire","$fkvfI","$gQOBw","onAuthStateChanged","$euqRf","auth","user","console","log","$4Nugj","refs","authSignOut","parentElement","classList","remove","authOpen","add","$4smAb","spinner","show","movieApi","getTrending","then","data","results","$jcFG7","paginationSettings","maxPages","total_pages","initializePagination","markup","map","$Db1qJ","dataFormat","$bXAnp","cardTemplate","join","movieList","innerHTML","pagination","error","Notiflix","Notify","failure","message","close","$4f1c0259bbb55e68$var$onHomeLoad","searchForm","addEventListener","e","preventDefault","currentQuery","currentTarget","elements","search","value","$parcel$interopDefault","$iU1Pc","query","paginationType","resetPage","searchMovies","length","$0753df227ac7447c$var$watchedAdd","$0753df227ac7447c$var$queueAdd","$0753df227ac7447c$var$currentMovie","$bpxeT","$0753df227ac7447c$var$_onGalleryClick","$2TvXO","mark","_callee1","card","target","closest","id","dataset","getMovie","_callee","formattedData","modalMarkup","userData","watchedMovies","queuedMovies","selectedMovieTemplate","movieModal","$0753df227ac7447c$var$onGalleryCard","currentUser","$6m2hf","getDoc","doc","db","uid","res","_ctx","sent","find","movie","$0753df227ac7447c$var$toggleWatched","$0753df227ac7447c$var$toggleQueue","backdrop","toggle","body","modalCloseBtn","$0753df227ac7447c$var$toggleModal","window","$0753df227ac7447c$var$onEscPress","$0753df227ac7447c$var$onBackdropClick","apply","this","arguments","document","querySelector","$0753df227ac7447c$var$addToWatched","$0753df227ac7447c$var$addToQueue","removeEventListener","$0753df227ac7447c$var$removeFromWatched","$0753df227ac7447c$var$removeFromQueue","code","textContent","$0753df227ac7447c$var$_addToWatched","push","updateDoc","success","t0","$0753df227ac7447c$var$_removeFromWatched","filter","$0753df227ac7447c$var$_addToQueue","$0753df227ac7447c$var$_removeFromQueue"],"version":3,"file":"index.415a5919.js.map"}